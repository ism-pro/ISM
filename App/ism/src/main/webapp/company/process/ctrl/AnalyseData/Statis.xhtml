<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ic="http://www.ism.org/charts" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <ui:composition template="/tmpl/MainWindow.xhtml">

        <ui:define name="body">

            <style>
                .columnFieldClassSmall { min-width: 100px; }
                .ui-selectlistbox-listcontainer{ width: 100%; }
                .columnContentClassBig{
                    width: 100%;
                }
                .ui-autocomplete{   width: 100%;    }
                .ui-autocomplete-multiple-container.ui-widget.ui-inputfield.ui-state-default.ui-corner-all{
                    width: 100%;
                }

                .tab-content{
                    border:1px solid #ddd; 
                    border-top: none;
                    padding: 5px;
                }
                .tab-content h4, h3{
                    margin-top: 0px;
                }


                .nav>li>a {
                    padding: 5px 10px;
                    border-radius: initial;
                }
            </style>

            <h:form id="bodyForm" >
                <div>
                    <p:progressBar widgetVar="w_progress" ajax="true" 
                                   value="#{viewAnalyseChart.modelProgress}" 
                                   interval="1500"
                                   labelTemplate="{value}%" styleClass="animated" global="false">
                        <p:ajax event="complete" update="bodyForm" oncomplete="PF('btnSearchRequest').enable()"/>
                    </p:progressBar>

                </div>

                <h3>#{ism.Statistics}</h3>


                <ul class="nav nav-tabs">
                    <li><h:link outcome="Request" value="#{ism.Criteria}"/></li>
                    <li class="active"><h:link outcome="Statis" value="#{ism.Statistics}"/></li>
                </ul>


                <h:panelGroup style="width: 100%"
                              rendered="#{viewAnalyseChart.models!=null?true:false}"
                              >  
                    <c:forEach var="model" items="#{viewAnalyseChart.models}" varStatus="count" >
                        <ic:chart  id="statisticsChart_#{count.index}" type="line"
                                   model="#{model}"
                                   style="min-width: 310px; height: 400px; margin: 0 auto"
                                   exporting="true" debug="false"
                                   />

                        <hr />
                    </c:forEach>
                </h:panelGroup>

                <p:outputLabel value="Pas de donnÃ©es dans le model..." rendered="#{viewAnalyseChart.models!=null?false:true}" />


                <script>

                </script>


            </h:form>




        </ui:define>






        <ui:define name="west" id="west">
            <h:panelGroup id="westGroup">

            </h:panelGroup>



        </ui:define>


    </ui:composition>

</html>
